{% extends "layout.html" %}

{% block content %}

<div class="row">
  <div class="col-md-12">
    <h2>{{ attraction.name }}</h2>

      <a href="{{ url_for('add_review', attraction_id=attraction.attractionID) }}" class="btn btn-primary">Add Review</a>


    {% if attraction.image %}
       <img src="{{ url_for('static', filename=attraction.image) }} " style="width:200px; height:150px; object-fit:cover;" class="d-block mx-auto" alt="{{ attraction.name }}"> 
    
    {% endif %}
    <p><strong>Description:</strong> {{ attraction.description }}</p>
    <p><strong>Location:</strong> {{ attraction.location }}</p>
    <p></p>

    <h3>Reviews</h3>
    {% if reviews %}
        {% for review in reviews %}
        <div class="d-flex justify-content-between align-items-start mb-2">
          <div>
            <strong>{{ review.first_name }}</strong>: Rating: {{ review.rating }}/10<br>
            {{ review.review }}
            {% if review.reported %}
              <div><small class="text-warning">Reported</small></div>
            {% endif %}
          </div>
          <div>
              <form method="post" action="{{ url_for('report_review', review_id=review.reviewID) }}">
                <button class="btn btn-sm btn-outline-danger">Report</button>
              </form>
          </div>
        </div>
        {% endfor %}
    {% else %}
        <p>No reviews yet.</p>
    {% endif %}


    <a href="{{ url_for('browse') }}">Back to browse</a>
  </div>
</div>

{% endblock %}
